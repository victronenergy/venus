# Building nodejs takes a lot of memory, so run less compilers in parallel
PARALLEL_MAKE:pn-nodejs = "-j ${@1 if oe.utils.cpu_count() < 4 else round(oe.utils.cpu_count() / 4)}"

INHERIT += "rm_work"

# keep the default scheduler
BB_SCHEDULER = "speed"

RM_WORK_EXCLUDE = " \
    binutils \
    binutils-cross \
    binutils-cross-initial \
    gcc \
    gcc-cross \
    gcc-cross-initial \
    gcc-runtime \
    glibc \
    glibc-initial \
    glibc-locale \
    glibc-mtrace \
    libgcc \
    libgcc-initial \
    linux-libc-headers \
    nodejs-native \
"
